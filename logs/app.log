2025-11-24 21:07:43.968 INFO  [Test worker] c.r.s.c.s.ResourceDownloadServiceTest - Starting ResourceDownloadServiceTest using Java 21.0.2 with PID 20820 (started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:07:43.969 INFO  [Test worker] c.r.s.c.s.ResourceDownloadServiceTest - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:07:44.657 INFO  [Test worker] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:07:44.658 INFO  [Test worker] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:07:44.722 INFO  [Test worker] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 1 JPA repository interface.
2025-11-24 21:07:45.192 DEBUG [Test worker] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:07:45.270 INFO  [Test worker] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:07:45.343 INFO  [Test worker] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:07:45.377 INFO  [Test worker] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:07:45.629 INFO  [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:07:45.664 INFO  [Test worker] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:07:45.809 INFO  [Test worker] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:07:45.811 INFO  [Test worker] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:07:45.832 WARN  [Test worker] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:07:45.847 INFO  [Test worker] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:07:46.422 INFO  [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:07:46.436 DEBUG [Test worker] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:07:46.444 DEBUG [Test worker] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:07:46.451 DEBUG [Test worker] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:07:46.453 DEBUG [Test worker] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:07:46.455 INFO  [Test worker] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:07:47.188 WARN  [Test worker] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:07:47.618 INFO  [Test worker] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:07:48.242 INFO  [Test worker] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:07:48.333 INFO  [Test worker] c.r.s.c.s.ResourceDownloadServiceTest - Started ResourceDownloadServiceTest in 4.642 seconds (process running for 7.891)
2025-11-24 21:07:49.396 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:07:49.397 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:07:49.399 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:07:49.401 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-24 21:09:33.573 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 20804 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:09:33.574 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:09:33.600 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-24 21:09:33.600 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-24 21:09:34.203 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:09:34.205 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:09:34.250 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 1 JPA repository interface.
2025-11-24 21:09:34.713 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:09:34.723 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:09:34.724 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:09:34.724 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:09:34.764 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:09:34.764 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1163 ms
2025-11-24 21:09:34.868 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:09:34.882 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:09:34.911 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:09:34.930 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:09:35.115 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:09:35.134 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:09:35.245 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:09:35.247 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:09:35.261 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:09:35.272 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:09:35.783 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:09:35.791 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:09:35.796 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:09:35.801 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:09:35.803 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:09:35.805 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:09:36.180 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:09:36.291 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:09:36.474 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:09:36.525 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:09:36.538 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:09:36.550 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:09:36.555 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 3.336 seconds (process running for 3.803)
2025-11-24 21:09:50.550 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-24 21:09:50.551 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-24 21:09:50.551 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-24 21:09:50.581 DEBUG [http-nio-8080-exec-1] o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-11-24 21:09:50.669 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-11-24 21:11:22.970 DEBUG [http-nio-8080-exec-5] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:11:22.978 DEBUG [http-nio-8080-exec-5] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:11:22.985 DEBUG [http-nio-8080-exec-5] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:11:23.041 DEBUG [http-nio-8080-exec-5] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:12:35.615 DEBUG [http-nio-8080-exec-8] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:12:35.785 DEBUG [http-nio-8080-exec-8] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:13:30.449 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:13:30.453 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:13:30.456 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:13:30.457 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:13:30.461 WARN  [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:13:30.461 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:13:30.462 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-24 21:15:55.639 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 7120 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:15:55.640 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:15:55.665 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-24 21:15:55.666 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-24 21:15:56.109 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:15:56.110 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:15:56.153 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interface.
2025-11-24 21:15:56.537 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:15:56.544 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:15:56.545 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:15:56.545 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:15:56.575 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:15:56.575 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 909 ms
2025-11-24 21:15:56.608 WARN  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [CD70D4BA1594AC7FEA0C09798186B860]
2025-11-24 21:15:56.667 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:15:56.679 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:15:56.708 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:15:56.726 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:15:56.910 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:15:56.927 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:15:57.040 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:15:57.042 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:15:57.056 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:15:57.067 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:15:57.518 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:15:57.528 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:15:57.532 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:15:57.538 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:15:57.541 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:15:57.543 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:15:57.892 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:15:57.999 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:15:58.153 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:15:58.191 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:15:58.203 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:15:58.214 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:15:58.218 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 2.871 seconds (process running for 3.272)
2025-11-24 21:16:17.409 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-24 21:16:17.409 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-24 21:16:17.410 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-24 21:18:25.041 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:18:25.046 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:18:25.049 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:18:25.050 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:18:25.054 WARN  [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:18:25.054 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:18:25.055 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-24 21:18:28.729 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 18208 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:18:28.730 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:18:28.760 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-24 21:18:28.760 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-24 21:18:29.208 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:18:29.209 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:18:29.252 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interface.
2025-11-24 21:18:29.655 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:18:29.664 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:18:29.665 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:18:29.665 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:18:29.695 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:18:29.695 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 935 ms
2025-11-24 21:18:29.788 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:18:29.799 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:18:29.827 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:18:29.846 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:18:30.034 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:18:30.053 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:18:30.174 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:18:30.175 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:18:30.190 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:18:30.204 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:18:30.647 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:18:30.655 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:18:30.660 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:18:30.666 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:18:30.668 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:18:30.670 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:18:31.023 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:18:31.127 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:18:31.293 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:18:31.337 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:18:31.353 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:18:31.364 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:18:31.370 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 2.943 seconds (process running for 3.34)
2025-11-24 21:18:36.231 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-24 21:18:36.232 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-24 21:18:36.232 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-24 21:18:44.015 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:18:44.019 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:18:44.023 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:18:44.023 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:18:44.027 WARN  [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:18:44.028 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:18:44.028 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-24 21:22:27.047 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 22812 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:22:27.048 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:22:27.075 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-24 21:22:27.075 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-24 21:22:27.564 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:22:27.565 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:22:27.611 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 1 JPA repository interface.
2025-11-24 21:22:28.006 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:22:28.014 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:22:28.015 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:22:28.015 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:22:28.052 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:22:28.052 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 977 ms
2025-11-24 21:22:28.141 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:22:28.158 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:22:28.183 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:22:28.200 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:22:28.372 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:22:28.388 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:22:28.496 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:22:28.497 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:22:28.510 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:22:28.522 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:22:28.973 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:22:28.981 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:22:28.985 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:22:28.991 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:22:28.994 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:22:28.995 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:22:29.363 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:22:29.472 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:22:29.630 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:22:29.671 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:22:29.690 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:22:29.702 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:22:29.707 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 2.982 seconds (process running for 3.416)
2025-11-24 21:22:33.525 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-24 21:22:33.525 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-24 21:22:33.526 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-24 21:22:44.686 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:22:44.691 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:22:44.694 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:22:44.695 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:22:44.699 WARN  [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:22:44.699 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:22:44.699 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-24 21:24:02.844 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 16988 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:24:02.845 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:24:02.872 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-24 21:24:02.872 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-24 21:24:03.308 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:24:03.309 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:24:03.349 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 1 JPA repository interface.
2025-11-24 21:24:03.726 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:24:03.733 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:24:03.734 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:24:03.734 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:24:03.764 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:24:03.765 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 893 ms
2025-11-24 21:24:03.856 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:24:03.869 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:24:03.897 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:24:03.915 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:24:04.093 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:24:04.112 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:24:04.236 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:24:04.237 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:24:04.252 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:24:04.264 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:24:04.689 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:24:04.697 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:24:04.701 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:24:04.706 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:24:04.707 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:24:04.709 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:24:05.045 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:24:05.152 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:24:05.299 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:24:05.337 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:24:05.353 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:24:05.363 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:24:05.368 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 2.819 seconds (process running for 3.215)
2025-11-24 21:24:07.607 INFO  [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-24 21:24:07.607 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-24 21:24:07.608 INFO  [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-24 21:24:07.628 DEBUG [http-nio-8080-exec-1] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:24:07.681 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(941294852<open>)] for JPA transaction
2025-11-24 21:24:07.682 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.runaumov.spring.cloudfilestorage.service.AuthService.registerUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-11-24 21:24:07.684 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@623b58d2]
2025-11-24 21:24:07.686 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(941294852<open>)] for JPA transaction
2025-11-24 21:24:07.686 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-11-24 21:24:07.703 DEBUG [http-nio-8080-exec-1] org.hibernate.SQL - 
    insert 
    into
        users
        (password, username, id) 
    values
        (?, ?, default)
2025-11-24 21:24:07.738 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-11-24 21:24:07.738 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(941294852<open>)]
2025-11-24 21:24:07.744 DEBUG [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-11-24 21:24:07.762 DEBUG [http-nio-8080-exec-1] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:28:40.674 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-24 21:28:40.677 INFO  [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:28:40.678 INFO  [tomcat-shutdown] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:40.684 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:28:40.684 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:40.689 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:28:40.690 DEBUG [Thread-5] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:28:40.695 WARN  [Thread-5] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:28:40.695 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:28:40.696 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-24 21:28:40.749 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 16988 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:28:40.749 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:28:40.876 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:28:40.876 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:28:40.885 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 1 JPA repository interface.
2025-11-24 21:28:40.955 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:28:40.956 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:40.956 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:28:40.956 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:28:40.972 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:28:40.972 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 222 ms
2025-11-24 21:28:40.994 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:28:40.994 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:28:40.995 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:28:41.001 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:28:41.001 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-24 21:28:41.003 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:28:41.003 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-24 21:28:41.003 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:28:41.004 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:28:41.023 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:28:41.023 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:28:41.024 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:28:41.024 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:28:41.025 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:28:41.025 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:28:41.070 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:28:41.099 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:28:41.126 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:28:41.134 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:28:41.139 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:41.143 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:28:41.145 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 0.413 seconds (process running for 278.991)
2025-11-24 21:28:41.146 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-24 21:28:58.189 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-24 21:28:58.190 INFO  [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:28:58.190 INFO  [tomcat-shutdown] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:58.196 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:28:58.196 INFO  [Thread-7] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:58.199 INFO  [Thread-7] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:28:58.199 DEBUG [Thread-7] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:28:58.200 WARN  [Thread-7] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:28:58.200 INFO  [Thread-7] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-24 21:28:58.201 INFO  [Thread-7] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-24 21:28:58.261 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 16988 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:28:58.261 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:28:58.372 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:28:58.372 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:28:58.380 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 1 JPA repository interface.
2025-11-24 21:28:58.435 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:28:58.435 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:58.435 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:28:58.435 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:28:58.450 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:28:58.450 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 188 ms
2025-11-24 21:28:58.468 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:28:58.468 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:28:58.470 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:28:58.474 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:28:58.474 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-24 21:28:58.475 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:28:58.475 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-24 21:28:58.476 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:28:58.476 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:28:58.494 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:28:58.494 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:28:58.495 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:28:58.495 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:28:58.496 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:28:58.496 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:28:58.555 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:28:58.586 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:28:58.613 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:28:58.620 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:28:58.627 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:28:58.629 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:28:58.632 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 0.384 seconds (process running for 296.478)
2025-11-24 21:28:58.632 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-24 21:29:05.545 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-24 21:29:05.546 INFO  [Thread-12] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:29:05.547 INFO  [tomcat-shutdown] o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:29:05.550 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:29:05.550 INFO  [Thread-12] o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-24 21:29:05.551 INFO  [Thread-12] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:05.551 DEBUG [Thread-12] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:29:05.553 WARN  [Thread-12] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:29:05.553 INFO  [Thread-12] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-24 21:29:05.553 INFO  [Thread-12] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-24 21:29:05.608 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 16988 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:29:05.608 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:29:05.712 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:29:05.712 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:29:05.721 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 1 JPA repository interface.
2025-11-24 21:29:05.769 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:29:05.769 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:29:05.769 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:29:05.769 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:29:05.783 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:29:05.783 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 174 ms
2025-11-24 21:29:05.799 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:05.799 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:29:05.800 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:29:05.804 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:29:05.804 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-24 21:29:05.805 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:29:05.806 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-24 21:29:05.806 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:29:05.806 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:29:05.822 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:29:05.822 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:29:05.822 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:29:05.823 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:29:05.823 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:29:05.824 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:05.869 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:29:05.901 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:29:05.930 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:29:05.938 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:29:05.942 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:29:05.944 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:29:05.946 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 0.352 seconds (process running for 303.793)
2025-11-24 21:29:05.947 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-24 21:29:18.252 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:29:18.257 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:29:18.258 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:18.258 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:29:18.259 WARN  [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:29:18.259 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-24 21:29:18.259 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-24 21:29:20.681 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Starting CloudFileStorageApplication using Java 21.0.2 with PID 8560 (D:\Javadev\cloud-file-storage\build\classes\java\main started by Cas in D:\Javadev\cloud-file-storage)
2025-11-24 21:29:20.682 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-24 21:29:20.705 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-24 21:29:20.706 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-24 21:29:21.215 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-24 21:29:21.216 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-24 21:29:21.260 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 1 JPA repository interface.
2025-11-24 21:29:21.701 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-24 21:29:21.709 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-24 21:29:21.710 INFO  [restartedMain] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-24 21:29:21.710 INFO  [restartedMain] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-24 21:29:21.744 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-24 21:29:21.744 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1038 ms
2025-11-24 21:29:21.854 DEBUG [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:21.869 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-24 21:29:21.897 INFO  [restartedMain] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-24 21:29:21.915 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-24 21:29:22.114 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-24 21:29:22.133 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-24 21:29:22.262 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-24 21:29:22.264 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-24 21:29:22.279 WARN  [restartedMain] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-24 21:29:22.292 INFO  [restartedMain] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-24 21:29:22.788 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-24 21:29:22.799 DEBUG [restartedMain] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:29:22.804 DEBUG [restartedMain] org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        password varchar(255),
        username varchar(255),
        primary key (id)
    )
2025-11-24 21:29:22.810 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Pupa', '123')
2025-11-24 21:29:22.812 DEBUG [restartedMain] org.hibernate.SQL - INSERT INTO users (username, password) VALUES ('Lupa', '456')
2025-11-24 21:29:22.813 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:23.164 WARN  [restartedMain] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-24 21:29:23.281 INFO  [restartedMain] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name userEntityDetailService
2025-11-24 21:29:23.452 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-11-24 21:29:23.499 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-24 21:29:23.514 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-24 21:29:23.524 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-24 21:29:23.529 INFO  [restartedMain] c.r.s.c.CloudFileStorageApplication - Started CloudFileStorageApplication in 3.135 seconds (process running for 3.536)
2025-11-24 21:29:40.781 INFO  [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-24 21:29:40.781 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-24 21:29:40.781 INFO  [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-24 21:29:40.799 DEBUG [http-nio-8080-exec-2] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:29:40.848 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1546254511<open>)] for JPA transaction
2025-11-24 21:29:40.848 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.runaumov.spring.cloudfilestorage.service.AuthService.registerUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-11-24 21:29:40.850 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21f16017]
2025-11-24 21:29:40.852 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1546254511<open>)] for JPA transaction
2025-11-24 21:29:40.852 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-11-24 21:29:40.867 DEBUG [http-nio-8080-exec-2] org.hibernate.SQL - 
    insert 
    into
        users
        (password, username, id) 
    values
        (?, ?, default)
2025-11-24 21:29:40.909 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-11-24 21:29:40.909 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1546254511<open>)]
2025-11-24 21:29:40.914 DEBUG [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-11-24 21:29:40.932 DEBUG [http-nio-8080-exec-2] o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-11-24 21:29:43.644 DEBUG [http-nio-8080-exec-3] o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-11-24 21:29:43.722 DEBUG [http-nio-8080-exec-3] org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.password,
        ue1_0.username 
    from
        users ue1_0 
    where
        ue1_0.username=?
2025-11-24 21:29:59.642 INFO  [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-24 21:29:59.647 INFO  [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-24 21:29:59.649 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-24 21:29:59.650 DEBUG [SpringApplicationShutdownHook] org.hibernate.SQL - 
    drop table if exists users cascade 
2025-11-24 21:29:59.653 WARN  [SpringApplicationShutdownHook] o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: База данных уже закрыта (чтобы отключить автоматическое закрытие базы данных при останове JVM, добавьте ";DB_CLOSE_ON_EXIT=FALSE" в URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-232]
2025-11-24 21:29:59.653 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-24 21:29:59.654 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
